!function(e,t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t():e.easydate=t()}(this,function(){function e(e){return new t(e)}function t(e){this.date=n(e)}function n(e){var n;return n="string"==typeof e?new Date(e.replace(/-/g,"/")):"number"==typeof e?new Date(e):e&&"[object date]"===Object.prototype.toString.call(e).toLowerCase()?new Date(e.getTime()):e instanceof t?new Date(e.valueOf()):new Date}function r(e){return 10>e?"0"+e:e}return t.prototype={valueOf:function(){return this.date.getTime()},toString:function(){return this.format()},getWeekth:function(){return e.getWeekInfo(this.date).weekth},getWeekday:function(){return e.getWeekInfo(this.date).weekday},getMonthDays:function(){return e.getMonthDays(this.date)},isValid:function(){return!isNaN(this.date.getFullYear())},isLeapYear:function(){return e.isLeapYear(this.date.getFullYear())},isBefore:function(e){return this.date.getTime()<n(e||"").getTime()},isAfter:function(e){return this.date.getTime()>n(e||"").getTime()},isSame:function(e){return this.date.getTime()===n(e||"").getTime()},isBetween:function(e,t){var r,i=this.date.getTime(),a=n(e||"").getTime(),o=n(t||"").getTime();return a>o&&(r=a,a=o,o=r),i>=a&&o>=i},format:function(e){var t=this.date,n=t.getFullYear(),i=(n+"").substring(2),a=t.getMonth()+1,o=t.getDate(),s=t.getHours(),u=s>12?s-12:s,g=t.getMinutes(),f=t.getSeconds(),h={yyyy:n,yy:i,MM:r(a),M:a,dd:r(o),d:o,HH:r(s),H:s,hh:r(u),h:u,mm:r(g),m:g,ss:r(f),s:f,S:t.getMilliseconds(),tt:s>12?"下午":"上午"};("string"!=typeof e||""===e)&&(e="yyyy/MM/dd HH:mm:ss");for(var d in h)h.hasOwnProperty(d)&&(e=e.replace(new RegExp(d,"g"),h[d]));return e},calc:function(e,t){var n,r=this.date,i=1e3,a=60*i,o=60*a,s=24*o,u={second:i,minute:a,hour:o,day:s},g=r.getTime();return n="month"===e?r.setMonth(r.getMonth()+t):"year"===e?r.setYear(r.getFullYear()+t):g+(u[e]||0)*t,this.date=new Date(n),this},toDatePart:function(){var e=this.date;return this.date=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()),this},clone:function(){return e(this.date.getTime())}},function(){var e,n,r=["getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","getMilliseconds"],i=["setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"];for(e=0,n=r.length;n>e;e++)!function(e){t.prototype[e]=function(){return this.date[e]()+("getMonth"===e?1:0)}}(r[e]);for(e=0,n=i.length;n>e;e++)!function(e){t.prototype[e]=function(t){return this.date[e]("setMonth"===e?t-1:t),this}}(i[e])}(),e.isLeapYear=function(e){return e=Number(e),isNaN(e)?!1:e%400===0||e%4===0&&e%100!==0},e.isValid=function(e){var t=n(e||"");return!isNaN(t.getFullYear())},e.getWeekInfo=function(e){var t=n(e||""),r=t.getFullYear();if(isNaN(r))return{weekth:0/0,weekday:0/0};var i=new Date(r,0,1),a=i.getDay(),o=new Date(r+1,0,1),s=(o.getDay(),Math.floor((t.getTime()-i.getTime())/864e5)),u=Math.floor((s+a)/7)+1,g="星期"+["日","一","二","三","四","五","六"][t.getDay()];return{weekth:u,weekday:g}},e.getMonthDays=function(e){var t=n(e||""),r=t.getMonth()+1;return isNaN(r)?0/0:new Date(t.getFullYear(),r,0).getDate()},e.diff=function(e,t,r){var i,a,o,s,u=1e3,g=60*u,f=60*g,h=24*f,d={second:u,minute:g,hour:f,day:h};return e=n(e||""),t=n(t||""),i=e.getTime(),a=t.getTime(),o=Math.abs(a-i),isNaN(i)||isNaN(a)?0/0:(s=Math.floor(o/(d[r]||h)),s=0>o?-s:s,"json"===r?{days:Math.floor(o/d.hour/24),hours:Math.floor(o/d.hour%24),minites:Math.floor(o/d.minute%60),seconds:Math.floor(o/d.second%60)}:s)},e});
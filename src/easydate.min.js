!function(t,e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports=e():t.easydate=e()}(this,function(){function t(t){return new e(t)}function e(t){this.date=n(t)}function n(t){var n;return n="string"==typeof t?new Date(t.replace(/-/g,"/")):"number"==typeof t?new Date(t):t&&"[object date]"===Object.prototype.toString.call(t).toLowerCase()?new Date(t.getTime()):t instanceof e?new Date(t.valueOf()):new Date}function r(t){return 10>t?"0"+t:t}return e.prototype={valueOf:function(){return this.date.getTime()},toString:function(){return this.format()},getWeekth:function(){return t.getWeekth(this.date)},getMonthDays:function(){return t.getMonthDays(this.date)},isValid:function(){return!isNaN(this.date.getFullYear())},isLeapYear:function(){return t.isLeapYear(this.date.getFullYear())},isBefore:function(t){return this.date.getTime()<n(t||"").getTime()},isAfter:function(t){return this.date.getTime()>n(t||"").getTime()},isSame:function(t){return this.date.getTime()===n(t||"").getTime()},isBetween:function(t,e){var r,i=this.date.getTime(),o=n(t||"").getTime(),a=n(e||"").getTime();return o>a&&(r=o,o=a,a=r),i>=o&&a>=i},format:function(t){var e=this.date,n=e.getFullYear(),i=(n+"").substring(2),o=e.getMonth()+1,a=e.getDate(),s=e.getHours(),u=s>12?s-12:s,g=e.getMinutes(),f=e.getSeconds(),h={yyyy:n,yy:i,MM:r(o),M:o,dd:r(a),d:a,HH:r(s),H:s,hh:r(u),h:u,mm:r(g),m:g,ss:r(f),s:f,S:e.getMilliseconds(),tt:s>12?"下午":"上午"};("string"!=typeof t||""===t)&&(t="yyyy/MM/dd HH:mm:ss");for(var c in h)h.hasOwnProperty(c)&&(t=t.replace(new RegExp(c,"g"),h[c]));return t},calc:function(t,e){var n,r=this.date,i=1e3,o=60*i,a=60*o,s=24*a,u={second:i,minute:o,hour:a,day:s},g=r.getTime();return n="month"===t?r.setMonth(r.getMonth()+e):"year"===t?r.setYear(r.getFullYear()+e):g+(u[t]||0)*e,this.date=new Date(n),this},toDatePart:function(){var t=this.date;return this.date=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()),this},clone:function(){return t(this.date.getTime())}},function(){var t,n,r=["getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","getMilliseconds"],i=["setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"];for(t=0,n=r.length;n>t;t++)!function(t){e.prototype[t]=function(){return this.date[t]()+("getMonth"===t?1:0)}}(r[t]);for(t=0,n=i.length;n>t;t++)!function(t){e.prototype[t]=function(e){return this.date[t]("setMonth"===t?e-1:e),this}}(i[t])}(),t.isLeapYear=function(t){return t=Number(t),isNaN(t)?!1:t%400===0||t%4===0&&t%100!==0},t.isValid=function(t){var e=n(t||"");return!isNaN(e.getFullYear())},t.getWeekth=function(t){var e=n(t||""),r=e.getFullYear();if(isNaN(r))return 0/0;var i=new Date(r,0,1),o=i.getDay(),a=Math.floor((e.getTime()-i.getTime())/864e5),s=Math.floor((a+o)/7)+1;return s},t.getMonthDays=function(t){var e=n(t||""),r=e.getMonth()+1;return isNaN(r)?0/0:new Date(e.getFullYear(),r,0).getDate()},t.diff=function(t,e,r){var i,o,a,s,u=1e3,g=60*u,f=60*g,h=24*f,c={second:u,minute:g,hour:f,day:h};return t=n(t||""),e=n(e||""),i=t.getTime(),o=e.getTime(),a=Math.abs(o-i),isNaN(i)||isNaN(o)?0/0:(s=Math.floor(a/(c[r]||h)),s=0>a?-s:s,"json"===r?{days:Math.floor(a/c.hour/24),hours:Math.floor(a/c.hour%24),minites:Math.floor(a/c.minute%60),seconds:Math.floor(a/c.second%60)}:s)},t});